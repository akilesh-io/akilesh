import { useRouter } from 'next/router';
import SubstackWidget from "@/components/SubstackWidget";
import SlidingText from "@/components/SlidingText";
import React, { useState, useEffect } from 'react';

export const Footer = () => {
  const router = useRouter();
  const workPath = router.pathname !== '/work';
  const emojis = ['ðŸ’™', 'ðŸŒ ', 'ðŸ’ ', 'ðŸ§™', 'ðŸ”®'];
  // State to keep track of the current emoji index
  const [currentEmojiIndex, setCurrentEmojiIndex] = useState(0);

  useEffect(() => {
    // Set up an interval to change the emoji every 2 seconds (2000 milliseconds)
    const intervalId = setInterval(() => {
      setCurrentEmojiIndex((prevIndex) => (prevIndex + 1) % emojis.length);
    }, 1500);

    // Clear the interval when the component unmounts
    return () => clearInterval(intervalId);
  }, [emojis.length]); // Empty dependency array means this effect runs once on mount



  return (
    <footer className="max-w-2xl mx-auto relative text-center border-2 border-dashed rounded-t-2xl border-gray-200 border-b-0 py-4 bg-white/30 dark:bg-mild/70 ">
      <div>
        <div className="col-span-2 m-4 xl:mt-0">
          {workPath && <SubstackWidget />}
        </div>
      </div>

      <div className="text-center text-gray-700 dark:text-gray-100 bg-black/0.25 font-mono text-sm md:text-base">
        {workPath ? `Crafted with ${emojis[currentEmojiIndex]} by Akilesh` : <>
          <div className='flex justify-center '>
            {/* items-end */}
            <SlidingText text="Foreground Midground Background" />
            , Is My Design Philosophy
          </div>
        </>}
      </div>

      <div className={`flex justify-center ${workPath ? 'pt-4' : 'sm:pb-4 pb-16 '}`}>
        {/* Facebook */}
        <a
          target="_blank"
          rel="noopener noreferrer"
          href="https://linkedin.com/in/akilesh-io"
          className="mr-9 text-gray-700 dark:text-gray-100"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="16"
            height="16"
            fill="currentColor"
            className="bi bi-linkedin"
            viewBox="0 0 16 16"
          >
            {" "}
            <path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z" />{" "}
          </svg>
        </a>

        {/* Twitter */}
        <a
          target="_blank"
          rel="noopener noreferrer"
          href="https://twitter.com/akilesh_io"
          className="mr-9 text-gray-700 dark:text-gray-100"
        >
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fab"
            data-icon="twitter"
            className="svg-inline--fa fa-twitter w-4"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 512 512"
          >
            <path
              fill="currentColor"
              d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"
            />
          </svg>
        </a>

        {/* Mail */}
        <a
          href="mailto:2112akilesh@gmail.com"
          target="_blank"
          rel="noopener noreferrer"
          className="mr-9 text-gray-700 dark:text-gray-100"
        >
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fab"
            data-icon="mail"
            className="svg-inline--fa fa-mail w-3.5"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 488 512"
          >
            <path
              fill="currentColor"
              d="M424 80H88a56.06 56.06 0 00-56 56v240a56.06 56.06 0 0056 56h336a56.06 56.06 0 0056-56V136a56.06 56.06 0 00-56-56zm-14.18 92.63l-144 112a16 16 0 01-19.64 0l-144-112a16 16 0 1119.64-25.26L256 251.73l134.18-104.36a16 16 0 0119.64 25.26z" />
          </svg>
        </a>

        {/* Instagram */}
        <a
          target="_blank"
          rel="noopener noreferrer"
          href="https://www.instagram.com/akilesh_io/"
          className="mr-9 text-gray-700 dark:text-gray-100"
        >
          <svg
            aria-hidden="true"
            focusable="false"
            data-prefix="fab"
            data-icon="instagram"
            className="svg-inline--fa fa-instagram w-3.5"
            role="img"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 448 512"
          >
            <path
              fill="currentColor"
              d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"
            />
          </svg>
        </a>

        {/* Dribble */}
        <a
          target="_blank"
          rel="noopener noreferrer"
          href="https://dribbble.com/Akilesh_io"
          className="text-gray-700 dark:text-gray-100"
        >
          <svg
            width="16"
            height="16"
            viewBox='0 0 64 64'
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg">
            <path fillRule="evenodd" clipRule="evenodd" d="M0 31.9942C0 14.3331 14.3227 0 32 0C49.6786 0 64 14.346 64 32.0058C64 49.6669 49.6773 64 32 64H29.4043V63.8845C12.9519 62.5623 0 48.7824 0 31.9942ZM32.7959 58.798C47.2364 58.377 58.8087 46.5357 58.8087 32.0058C58.8087 17.2085 46.8075 5.19039 32 5.19039C17.1912 5.19039 5.19133 17.1983 5.19133 31.9942C5.19133 46.7895 17.2021 58.798 32 58.798H32.7959Z" />
            <path fillRule="evenodd" clipRule="evenodd" d="M19.0444 8.5504C18.6885 8.4384 18.3196 8.3223 17.9352 8.19192L19.6032 3.27673C19.7564 3.32872 20.0323 3.41669 20.3544 3.5194C20.9331 3.70393 21.6609 3.936 22.0944 4.09232L22.1177 4.10071L22.1408 4.10954C22.2594 4.15489 22.3865 4.20297 22.5198 4.25338C23.1913 4.50734 24.0198 4.82067 24.7117 5.14427L24.7425 5.15864L24.8796 5.22718C25.2052 5.379 25.6942 5.61206 26.1015 5.80617C26.3301 5.91515 26.533 6.01185 26.6668 6.07501L26.7287 6.10425L26.789 6.13671C26.803 6.14427 26.8195 6.15307 26.8381 6.16302C26.9784 6.23816 27.2401 6.37818 27.4912 6.53161L27.5601 6.5737L27.5796 6.58735C27.6079 6.60383 27.6467 6.62585 27.6947 6.65254C27.7366 6.67588 27.7769 6.69807 27.8172 6.72024C27.8251 6.72459 27.833 6.72895 27.8409 6.73331C27.8631 6.74553 27.8884 6.75944 27.911 6.77208L27.9126 6.77297C27.9241 6.77938 27.9535 6.79575 27.9874 6.81555C28.018 6.83317 28.0652 6.86007 28.1242 6.89377C28.3047 6.99678 28.5964 7.16324 28.8672 7.32183C29.1462 7.4852 29.572 7.73684 29.8871 7.95772C30.2247 8.16503 30.5958 8.42209 30.8429 8.59324C30.8874 8.62408 30.9279 8.65213 30.9634 8.6766C31.1534 8.79228 31.3394 8.92346 31.4688 9.01621C31.654 9.14891 31.8556 9.29924 32.0394 9.43745C32.1244 9.5013 32.202 9.55988 32.2753 9.61525C32.3729 9.68889 32.4629 9.75684 32.5526 9.82395C32.6266 9.87937 32.6883 9.92504 32.7381 9.96122C32.7627 9.9791 32.7819 9.99283 32.7963 10.003C32.8086 10.0117 32.8144 10.0156 32.8147 10.0158L32.8823 10.0609L32.9475 10.1105C35.8123 12.2928 38.3635 14.8567 40.541 17.7143L40.5431 17.7169L40.5451 17.7196C42.9523 20.8955 44.8529 24.421 46.171 28.1728C50.0981 39.1418 48.9432 51.8142 42.7709 61.8175L38.3527 59.0924C43.6719 50.4716 44.696 39.4477 41.281 29.9155L41.2782 29.9077L41.2755 29.8999C40.1378 26.6593 38.4949 23.6089 36.4095 20.8569C34.5227 18.3816 32.3193 16.1648 29.8537 14.2791C29.7172 14.1845 29.566 14.0722 29.4424 13.9797C29.3488 13.9097 29.2388 13.8267 29.1303 13.7448C29.0574 13.6898 28.9853 13.6354 28.9193 13.5858C28.7411 13.4518 28.5792 13.3313 28.4451 13.2353C28.3256 13.1497 28.2759 13.1181 28.2762 13.1176C28.2763 13.1176 28.2765 13.1176 28.2769 13.1178L28.1996 13.0744L28.1095 13.0133C27.9769 12.9233 27.8588 12.8416 27.7506 12.7667C27.513 12.6023 27.3227 12.4706 27.1296 12.356L27.0032 12.2809L26.886 12.1921C26.8933 12.1976 26.8928 12.1973 26.8825 12.1904C26.8632 12.1776 26.8098 12.1421 26.7098 12.08C26.578 11.9983 26.4164 11.9018 26.2437 11.8006C25.9987 11.6572 25.7756 11.5299 25.5991 11.4292C25.5168 11.3822 25.4446 11.341 25.3851 11.3067L25.3797 11.3036C25.3706 11.2986 25.3572 11.2911 25.337 11.28C25.3308 11.2766 25.324 11.2729 25.3168 11.2689C25.2767 11.2469 25.2232 11.2174 25.1687 11.1871C25.1049 11.1516 25.0275 11.108 24.9522 11.0639C24.911 11.0398 24.8342 10.9946 24.7482 10.9388C24.6425 10.8758 24.5291 10.8149 24.3941 10.7424C24.3921 10.7413 24.3901 10.7402 24.3881 10.7391C24.2266 10.6627 24.0256 10.5669 23.8123 10.4651C23.4109 10.2737 22.9655 10.0614 22.6564 9.91764L22.6231 9.90216L22.4834 9.83233C21.9933 9.60511 21.4065 9.38267 20.7493 9.13349C20.6064 9.07932 20.4602 9.02389 20.3109 8.96687C19.9058 8.82147 19.4851 8.68909 19.0444 8.5504ZM25.3856 11.3069C25.3884 11.3085 25.3897 11.3092 25.3897 11.3092L25.3856 11.3069ZM25.3856 11.3069C25.3884 11.3085 25.3897 11.3092 25.3897 11.3092L25.3856 11.3069Z" />
            <path fillRule="evenodd" clipRule="evenodd" d="M29.9753 20.9031C37.8095 19.4886 45.039 15.0944 49.9836 8.8396L54.0564 12.0581C48.3423 19.2864 40.0009 24.3674 30.8972 26.011L30.8966 26.0111C26.3636 26.8284 21.7063 26.856 17.1601 26.0225C12.6263 25.2144 8.25142 23.5868 4.29461 21.2106L6.96759 16.7612C10.3772 18.8087 14.1561 20.2156 18.0773 20.9137L18.0841 20.9149L18.0909 20.9162C22 21.6336 26.0293 21.6145 29.9747 20.9032" />
            <path fillRule="evenodd" clipRule="evenodd" d="M16.1061 58.3111C20.5381 35.6959 43.5855 23.2062 62.4346 28.3436L61.0692 33.3513C45.0687 28.9903 25.0407 39.714 21.2006 59.3091L16.1061 58.3111Z" />
          </svg>

        </a>
      </div>
    </footer>
  );
};
